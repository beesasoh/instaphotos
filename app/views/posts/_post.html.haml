%li
  .card
    .user-info
      = link_to post.user.username, profile_path(post.user.username)

    .post-image
      = image_tag post.image.url(:medium)

    .post-extras
      .post-caption
        = post.caption

      .post-comments
        .post-commments-list{id: "comments_#{post.id}"}
          - if post.comments
            = render post.comments, post: post

        .comments-form
          = form_for [post, post.comments.new] , remote: true do |f|
            = f.text_field :text, required: true, placeholder: 'Add a comment...', id: "comment_field_#{post.id}"

